{% extends 'site_admin/admin_base.html' %}

{% block main_table_content %}
    
    <h1>{% if cluster %} Edit {% else %} Create {% endif %} Topic Area</h1>
    {% if cluster %}
        <form action="{% url admin_edit_cluster cluster.id %}" method="post">
    {% else %}
        <form action="{% url admin_create_cluster %}" method="post">
    {% endif %}
        <div class="submit">
            <input type="submit" value="Save" class="submit-button" />
            {% if user.is_superuser and cluster %}
                <input type="button" value="Delete" class="submit-button" onclick="if (confirm('Are you sure you want to delete this topic area?  This cannot be undone.')) window.location='{% url admin_delete_cluster cluster.id %}?return_url={{ return_url|urlencode }}';" />
            {% endif %}
            <a href="{{ return_url }}" class="cancel-link">Cancel</a>
        </div>
        {% csrf_token %}
        <table class="grid edit-create">
            {{ form }}
        </table>
        <div class="submit">
            <input type="submit" value="Save" class="submit-button" />
            {% if user.is_superuser and cluster %}
                <input type="button" value="Delete" class="submit-button" onclick="if (confirm('Are you sure you want to delete this topic area?  This cannot be undone.')) window.location='{% url admin_delete_cluster cluster.id %}?return_url={{ return_url|urlencode }}';" />
            {% endif %}
            <a href="{{ return_url }}" class="cancel-link">Cancel</a>
        </div>
    </form>

{% endblock %}
