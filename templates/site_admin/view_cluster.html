{% extends 'site_admin/admin_base.html' %}

{% block main_table_content %}
    
    <h1>{{ cluster.name_with_sector }} Cluster</h1>
    
    <p>
        <a href="{% url admin_edit_cluster cluster.id %}">Edit cluster</a>
        | <a href="{% url admin_delete_cluster cluster.id %}" onclick="return confirm('Delete this cluster?');">Delete cluster</a>
        | <a href="{% url admin_clusters_report %}">Back to All Clusters</a>
    </p>
    
    <table class="grid">
        <tr>
            <th>
                Sector
            </th>
            <td>
                <ul>
                    {% for sector in cluster.get_sectors.all %}
                        <li><a href="{% url admin_view_sector sector.id %}">{{ sector.name }}</a></li>
                    {% empty %}
                        <li>None</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <th>
                Society
            </th>
            <td>
                <ul>
                    {% for society in cluster.societies.all %}
                        <li><a href="{% url admin_view_society society.id %}">{{ society.name }}</a></li>
                    {% empty %}
                        <li>None</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <th>
                Filters
            </th>
            <td>
                <ul>
                    {% for filter in cluster.filters.all %}
                        <li>{{ filter.name }}</li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        <tr>
            <th>
                Tags
            </th>
            <td>
                <ul>
                    {% for tag in cluster.get_tags %}
                        <li><a href="{% url admin_view_tag tag.id %}">{{ tag.name }}</a></li>
                    {% endfor %}
                </ul>
            </td>
        </tr>
        {% comment %}
            <tr>
                <th>
                    Filters
                </th>
                <td>
                    {% for filter in cluster.filters.all %}
                        {{ filter.name }}{% if not forloop.last %},{% endif %}
                    {% endfor %}
                </td>
            </tr>
        {% endcomment %}
    </table>
    
{% endblock %}
